"use strict";(self.webpackChunkclient_shop=self.webpackChunkclient_shop||[]).push([[362],{1828:function(e,t,a){var n=a(9566),r={getCarts:function(e,t){var a="/carts/fetch".concat(e);return n.Z.get(a,{headers:{Authorization:"Bearer ".concat(t)}})},postAddToCart:function(e,t){var a="/carts/add".concat(e);return console.log(a),n.Z.post(a,{},{headers:{Authorization:"Bearer ".concat(t)}})},deleteToCart:function(e,t){var a="/carts/delete".concat(e);return n.Z.post(a,{},{headers:{Authorization:"Bearer ".concat(t)}})},putToCart:function(e,t){var a="/carts/update".concat(e);return n.Z.post(a,{},{headers:{Authorization:"Bearer ".concat(t)}})}};t.Z=r},921:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(8214),r=a(5861),s=a(885),c=a(2791),l=a(4245),o=a(1828),i=a(6528),d=a(9566),u={postEmail:function(e,t){var a="/email".concat(e);return d.Z.post(a,{},{headers:{Authorization:"Bearer ".concat(t)}})},postOrder:function(e,t){return d.Z.post("/orders",e,{headers:{Authorization:"Bearer ".concat(t)}})}},h=a(7186),m=a(8577),p=a(184),g=(0,m.Z)("http://localhost:5000",{transports:["websocket"]});var x=function(e){var t=localStorage.getItem("token"),a=(0,c.useState)([]),d=(0,s.Z)(a,2),m=d[0],x=d[1],f=(0,c.useState)(0),j=(0,s.Z)(f,2),N=j[0],v=j[1],b=(0,c.useState)(""),Z=(0,s.Z)(b,2),y=Z[0],C=Z[1],T=(0,c.useState)(!1),S=(0,s.Z)(T,2),w=S[0],H=S[1],E=(0,c.useState)(""),I=(0,s.Z)(E,2),_=I[0],k=I[1],A=(0,c.useState)(!1),B=(0,s.Z)(A,2),z=B[0],F=B[1],P=(0,c.useState)(!1),M=(0,s.Z)(P,2),Y=M[0],D=M[1],V=(0,c.useState)(""),q=(0,s.Z)(V,2),K=q[0],L=q[1],O=(0,c.useState)(!1),$=(0,s.Z)(O,2),G=$[0],J=$[1],Q=(0,c.useState)(""),R=(0,s.Z)(Q,2),U=R[0],W=R[1],X=(0,c.useState)(!1),ee=(0,s.Z)(X,2),te=ee[0],ae=ee[1],ne=(0,c.useState)(""),re=(0,s.Z)(ne,2),se=re[0],ce=re[1],le=(0,c.useState)(!1),oe=(0,s.Z)(le,2),ie=oe[0],de=oe[1],ue=(0,c.useState)(!1),he=(0,s.Z)(ue,2),me=he[0],pe=he[1];function ge(e){var t=0;e.map((function(e){return t+=parseInt(e.productId.price)*parseInt(e.quantity)}));v(t)}return(0,c.useEffect)((function(){if(localStorage.getItem("id_user")){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var a,r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userId:localStorage.getItem("id_user")},r="?"+l.stringify(a),e.next=4,o.Z.getCarts(r,t);case 4:s=e.sent,x(s),ge(s),0===s.length&&window.location.replace("/cart");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[]),console.log(se),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("section",{className:"hero pb-3 bg-cover bg-center d-flex align-items-center",style:{backgroundImage:"url(".concat(i.Z.banner,")")},children:(0,p.jsx)("div",{className:"container py-5",children:(0,p.jsx)("div",{className:"row px-4 px-lg-5",children:(0,p.jsxs)("div",{className:"col-lg-6",children:[(0,p.jsx)("h1",{className:"h2 text-uppercase mb-0",children:"Thanh To\xe1n"}),(0,p.jsx)("p",{className:"text-muted text-uppercase mb-2",children:"Cu\u1ed1i C\xf9ng, H\xe3y Cho Ch\xfang T\xf4i Th\xf4ng Tin Li\xean H\u1ec7 C\u1ee7a B\u1ea1n"})]})})})}),!me&&(0,p.jsxs)("section",{className:"py-5",children:[(0,p.jsx)("h2",{className:"h5 text-uppercase mb-4",children:"Chi Ti\u1ebft Thanh To\xe1n"}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-lg-8",children:(0,p.jsx)("form",{children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,p.jsx)("label",{className:"text-small text-uppercase",htmlFor:"Fullname",children:"H\u1ecd V\xe0 T\xean:"}),(0,p.jsx)("input",{className:"form-control form-control-lg",value:y,onChange:function(e){C(e.target.value)},type:"text",placeholder:"Enter Your Full Name Here!"}),w&&(0,p.jsx)("span",{className:"text-danger",children:"* H\xe3y Nh\u1eadp T\xean C\u1ee7a B\u1ea1n!"})]}),(0,p.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,p.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"Email",children:["Email:"," "]}),(0,p.jsx)("input",{className:"form-control form-control-lg",value:_,onChange:function(e){k(e.target.value)},type:"text",placeholder:"Enter Your Email Here!"}),z&&(0,p.jsx)("span",{className:"text-danger",children:"* H\xe3y Nh\u1eadp E-mail!"}),Y&&(0,p.jsx)("span",{className:"text-danger",children:"* E-mail Kh\xf4ng \u0110\xfang \u0110\u1ecbnh D\u1ea1ng"})]}),(0,p.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,p.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"Phone",children:["S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i:"," "]}),(0,p.jsx)("input",{className:"form-control form-control-lg",value:K,onChange:function(e){L(e.target.value)},type:"text",placeholder:"Enter Your Phone Number Here!"}),G&&(0,p.jsx)("span",{className:"text-danger",children:"* H\xe3y Nh\u1eadp S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i!"})]}),(0,p.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,p.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"Address",children:["\u0110\u1ecba Ch\u1ec9:"," "]}),(0,p.jsx)("input",{className:"form-control form-control-lg",value:U,onChange:function(e){W(e.target.value)},type:"text",placeholder:"Enter Your Address Here!"}),te&&(0,p.jsx)("span",{className:"text-danger",children:"* H\xe3y Nh\u1eadp \u0110\u1ecba Ch\u1ec9!"})]}),(0,p.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,p.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"payMethod",children:["Ph\u01b0\u01a1ng Th\u1ee9c Thanh To\xe1n:"," "]}),(0,p.jsxs)("select",{className:"form-control form-control-lg",onChange:function(e){ce(e.target.value)},children:[(0,p.jsx)("option",{children:"Select Payment Method"}),(0,p.jsx)("option",{children:"Credit Card"}),(0,p.jsx)("option",{children:"Ti\u1ec1n M\u1eb7t"})]}),ie&&(0,p.jsx)("span",{className:"text-danger",children:"* H\xe3y Ch\u1ecdn M\u1ed9t Ph\u01b0\u01a1ng Th\u1ee9c Thanh To\xe1n!"})]}),"Credit Card"===se&&(0,p.jsx)("div",{className:"col-lg-12 form-group",children:(0,p.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Enter Your Card Number!"})}),(0,p.jsx)("div",{className:"col-lg-12 form-group",children:(0,p.jsx)("a",{className:"btn btn-dark",style:{color:"white"},type:"submit",onClick:function(){if(!y)return H(!0),F(!1),J(!1),ae(!1),void de(!1);if(!_)return H(!1),F(!0),J(!1),ae(!1),void de(!1);if(J(!1),ae(!1),H(!1),de(!1),!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(_))return D(!0),H(!1),F(!1),J(!1),void ae(!1);if(D(!1),!K)return H(!1),F(!1),J(!0),ae(!1),void de(!1);if(H(!1),F(!1),J(!1),ae(!1),de(!1),!U)return H(!1),F(!1),J(!1),ae(!0),void de(!1);if(H(!1),F(!1),J(!1),ae(!1),de(!1),""===se||"Select Payment Method"===se)H(!1),F(!1),J(!1),ae(!1),de(!0);else{de(!1),console.log("Thanh Cong");var e={userId:localStorage.getItem("id_user"),email:_,fullname:y,phone:K,address:U,payment:se,date:new Date,products:m,total:N},a=function(){var a=(0,r.Z)((0,n.Z)().mark((function a(){var r;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.postOrder(e,t);case 2:r=a.sent,console.log(r);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a();var s=localStorage.getItem("id_user");g.emit("send_order",s),pe(!me)}},children:"\u0110\u1eb7t H\xe0ng"})})]})})}),(0,p.jsx)("div",{className:"col-lg-4",children:(0,p.jsx)("div",{className:"card border-0 rounded-0 p-lg-4 bg-light",children:(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("h5",{className:"text-uppercase mb-4",children:"\u0110\u01a1n H\xe0ng C\u1ee7a B\u1ea1n"}),(0,p.jsxs)("ul",{className:"list-unstyled mb-0",children:[m&&m.map((function(e){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[(0,p.jsx)("strong",{className:"small font-weight-bold",children:e.productId.name}),(0,p.jsx)("br",{}),(0,p.jsxs)("span",{className:"text-muted small",children:[(0,h.Z)(e.productId.price)," VND x"," ",e.quantity]})]}),(0,p.jsx)("li",{className:"border-bottom my-2"})]},e._id)})),(0,p.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[(0,p.jsx)("strong",{className:"text-uppercase small font-weight-bold",children:"T\u1ed5ng Thanh To\xe1n"}),(0,p.jsxs)("span",{children:[(0,h.Z)(N)," VND"]})]})]})]})})})]})]}),me&&(0,p.jsx)("section",{className:"py-5",children:(0,p.jsxs)("div",{className:"p-5",children:[(0,p.jsx)("h1",{children:"B\u1ea1n \u0110\xe3 \u0110\u1eb7t H\xe0ng Th\xe0nh C\xf4ng!"}),(0,p.jsx)("p",{style:{fontSize:"1.2rem"},children:"H\xe3y Ki\u1ec3m Tra \u0110\u01a1n H\xe0ng Trong E-mail C\u1ee7a B\u1ea1n."})]})})]})})}},6528:function(e,t,a){a.d(t,{Z:function(){return n}});var n={banner:a.p+"static/media/banner1.4a22881c941f7b645fa8.jpg",img1:a.p+"static/media/product_1.b24c110a233df54143c8.png",img2:a.p+"static/media/product_2.1bc52f8922d488cead68.png",img3:a.p+"static/media/product_3.48eda5293a6f605e73f7.png",img4:a.p+"static/media/product_4.6d83c6007d5109b357a8.png",img5:a.p+"static/media/product_5.b963def7555b7544d220.png"}},7186:function(e,t,a){function n(e){for(var t=e+"",a="",n=0,r=t.length-1;r>=0;r--)n++,a=t[r]+a,n%3===0&&0!==r&&(a="."+a,n=0);return a}a.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=362.a1c43654.chunk.js.map
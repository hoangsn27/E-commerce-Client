"use strict";(self.webpackChunkclient_shop=self.webpackChunkclient_shop||[]).push([[925],{2956:function(e,s,a){a.r(s),a.d(s,{default:function(){return u}});var r=a(2791),c=a(9271),t=a(8214),n=a(5861),l=a(885),i=a(1523),d=a(9566),o={getHistoryAPI:function(e,s){var a="/histories/fetch".concat(e);return d.Z.get(a,{headers:{Authorization:"Bearer ".concat(s)}})},getDetail:function(e,s){var a="/histories/detail/fetch?orderId=".concat(e);return d.Z.get(a,{headers:{Authorization:"Bearer ".concat(s)}})}},h=a(6528),m=a(184);var x=function(e){var s=localStorage.getItem("token"),a=(0,c.UO)().id,d=(0,r.useState)([]),x=(0,l.Z)(d,2),p=x[0],g=x[1],j=(0,r.useState)(),u=(0,l.Z)(j,2),N=u[0],b=u[1];return(0,r.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getDetail(a,s);case 2:r=e.sent,g(r.products),console.log(r),b(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)("section",{className:"hero pb-3 bg-cover bg-center d-flex align-items-center",style:{backgroundImage:"url(".concat(h.Z.banner,")")},children:(0,m.jsx)("div",{className:"container py-5",children:(0,m.jsx)("div",{className:"row px-4 px-lg-5",children:(0,m.jsx)("div",{className:"col-lg-6",children:(0,m.jsx)("h1",{className:"h2 text-uppercase mb-0",children:"Chi Ti\u1ebft L\u1ecbch S\u1eed \u0110\u01a1n H\xe0ng"})})})})}),N&&(0,m.jsxs)("div",{className:"p-5",children:[(0,m.jsx)("h1",{className:"h2 text-uppercase",children:"Th\xf4ng Tin \u0110\u01a1n H\xe0ng"}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"ID Ng\u01b0\u1eddi D\xf9ng:"})," ",N.userId]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"H\u1ecd V\xe0 T\xean:"}),N.fullname]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i:"}),N.phone]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"\u0110\u1ecba Ch\u1ec9:"}),N.address]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Ph\u01b0\u01a1ng Th\u1ee9c Thanh To\xe1n:"}),N.payment]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"T\u1ed5ng Thanh To\xe1n:"}),N.total,"$"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Th\u1eddi Gian \u0110\u1eb7t H\xe0ng:"}),N.date.slice(0,10)]})]}),(0,m.jsx)("div",{className:"table-responsive pt-5 pb-5",children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{className:"bg-light",children:(0,m.jsxs)("tr",{className:"text-center",children:[(0,m.jsxs)("th",{className:"border-0",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"ID S\u1ea3n Ph\u1ea9m"})]}),(0,m.jsxs)("th",{className:"border-0",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"H\xecnh \u1ea2nh"})]}),(0,m.jsxs)("th",{className:"border-0",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"T\xean S\u1ea3n Ph\u1ea9m"})]}),(0,m.jsxs)("th",{className:"border-0",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"Gi\xe1"})]}),(0,m.jsxs)("th",{className:"border-0",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"S\u1ed1 L\u01b0\u1ee3ng"})]})]})}),(0,m.jsx)("tbody",{children:p&&p.map((function(e){return(0,m.jsxs)("tr",{className:"text-center",children:[(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("h6",{className:"mb-0",children:e.productId._id})}),(0,m.jsx)("td",{className:"pl-0 border-0",children:(0,m.jsx)("div",{className:"media align-items-center justify-content-center",children:(0,m.jsx)(i.rU,{className:"reset-anchor d-block animsition-link",to:"/detail/".concat(e.productId._id),children:(0,m.jsx)("img",{src:e.productId.img1,alt:"...",width:"200"})})})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("h6",{className:"mb-0",children:e.productId.name})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("h6",{className:"mb-0",children:e.productId.price})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("h6",{className:"mb-0",children:e.quantity})})]},e._id)}))})]})})]})},p=a(4245),g=(0,a(8577).Z)("https://e-commerce-server-tw4l.onrender.com",{transports:["websocket"]});var j=function(e){var s=localStorage.getItem("token"),a=(0,r.useState)(!1),c=(0,l.Z)(a,2),d=c[0],x=c[1],j=(0,r.useState)([]),u=(0,l.Z)(j,2),N=u[0],b=u[1],f=localStorage.getItem("id_user");return(0,r.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(){var a,r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:if(!f){e.next=10;break}return a={userId:f},r="?"+p.stringify(a),e.next=7,o.getHistoryAPI(r,s);case 7:c=e.sent,console.log(c),b(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f,d]),(0,r.useEffect)((function(){d&&x(!1),g.on("receive_status",(function(){x(!0)}))}),[d]),(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)("section",{className:"hero pb-3 bg-cover bg-center d-flex align-items-center",style:{backgroundImage:"url(".concat(h.Z.banner,")")},children:(0,m.jsx)("div",{className:"container py-5",children:(0,m.jsx)("div",{className:"row px-4 px-lg-5",children:(0,m.jsx)("div",{className:"col-lg-6",children:(0,m.jsx)("h1",{className:"h2 text-uppercase mb-0",children:"L\u1ecbch S\u1eed \u0110\u01a1n H\xe0ng"})})})})}),(0,m.jsx)("div",{className:"table-responsive pt-5 pb-5",children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{className:"bg-light",children:(0,m.jsxs)("tr",{className:"text-center",children:[(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase ",children:"ID \u0110\u01a1n H\xe0ng"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"ID Ng\u01b0\u1eddi D\xf9ng"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"T\xean"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"\u0110\u1ecba Ch\u1ec9"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"T\u1ed5ng Thanh To\xe1n"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"Ph\u01b0\u01a1ng Th\u1ee9c Thanh To\xe1n"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"Ng\xe0y \u0110\u1eb7t h\xe0ng"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"Tr\u1ea1ng Th\xe1i"})]}),(0,m.jsxs)("th",{className:"border-0 align-middle",scope:"col",children:[" ",(0,m.jsx)("strong",{className:"text-small text-uppercase",children:"Chi Ti\u1ebft"})]})]})}),(0,m.jsx)("tbody",{children:N&&N.map((function(e){return(0,m.jsxs)("tr",{className:"text-center",children:[(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e._id})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e.userId})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e.fullname})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e.phone})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e.address})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsxs)("p",{className:"mb-0 small",children:["$",e.total]})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e.payment})}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsx)("p",{className:"mb-0 small",children:e.date.slice(0,10)})}),(0,m.jsxs)("td",{className:"align-middle border-0",children:[1===e.status?" X\xe1c Nh\u1eadn":"Ch\u1edd X\xe1c Nh\u1eadn",1===e.status&&(0,m.jsxs)("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,m.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,m.jsx)("path",{opacity:"0.4",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#12dd0e"})," ",(0,m.jsx)("path",{d:"M10.5795 15.5801C10.3795 15.5801 10.1895 15.5001 10.0495 15.3601L7.21945 12.5301C6.92945 12.2401 6.92945 11.7601 7.21945 11.4701C7.50945 11.1801 7.98945 11.1801 8.27945 11.4701L10.5795 13.7701L15.7195 8.6301C16.0095 8.3401 16.4895 8.3401 16.7795 8.6301C17.0695 8.9201 17.0695 9.4001 16.7795 9.6901L11.1095 15.3601C10.9695 15.5001 10.7795 15.5801 10.5795 15.5801Z",fill:"#12dd0e"})," "]})]})]}),(0,m.jsx)("td",{className:"align-middle border-0",children:(0,m.jsxs)(i.rU,{className:"btn btn-outline-dark btn-sm",to:"/history/".concat(e._id),children:["Xem",(0,m.jsx)("i",{className:"fas fa-long-arrow-alt-right ml-2"})]})})]},e._id)}))})]})})]})};var u=function(e){var s=localStorage.getItem("expiryDate"),a=new Date(s).getTime()-(new Date).getTime();return(0,r.useEffect)((function(){if(!s)return window.location.replace("/signin");setTimeout((function(){localStorage.clear(),window.location.replace("/signin")}),a)}),[a]),(0,m.jsxs)(c.rs,{children:[s&&(0,m.jsx)(c.AW,{exact:!0,path:"/history",component:j}),s&&(0,m.jsx)(c.AW,{path:"/history/:id",component:x})]})}},6528:function(e,s,a){a.d(s,{Z:function(){return r}});var r={banner:a.p+"static/media/banner1.4a22881c941f7b645fa8.jpg",img1:a.p+"static/media/product_1.b24c110a233df54143c8.png",img2:a.p+"static/media/product_2.1bc52f8922d488cead68.png",img3:a.p+"static/media/product_3.48eda5293a6f605e73f7.png",img4:a.p+"static/media/product_4.6d83c6007d5109b357a8.png",img5:a.p+"static/media/product_5.b963def7555b7544d220.png"}}}]);
//# sourceMappingURL=925.608db012.chunk.js.map
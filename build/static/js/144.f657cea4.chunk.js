"use strict";(self.webpackChunkclient_shop=self.webpackChunkclient_shop||[]).push([[144],{1828:function(e,s,t){var a=t(9566),n={getCarts:function(e,s){var t="/carts/fetch".concat(e);return a.Z.get(t,{headers:{Authorization:"Bearer ".concat(s)}})},postAddToCart:function(e,s){var t="/carts/add".concat(e);return console.log(t),a.Z.post(t,{},{headers:{Authorization:"Bearer ".concat(s)}})},deleteToCart:function(e,s){var t="/carts/delete".concat(e);return a.Z.post(t,{},{headers:{Authorization:"Bearer ".concat(s)}})},putToCart:function(e,s){var t="/carts/update".concat(e);return a.Z.post(t,{},{headers:{Authorization:"Bearer ".concat(s)}})}};s.Z=n},8824:function(e,s,t){var a=t(9566),n={getAPI:function(){return a.Z.get("/products")},getCategory:function(e){var s="/products/category/fetch?".concat(e);return a.Z.get(s)},getDetail:function(e){var s="/products/detail?id=".concat(e);return a.Z.get(s)},getPagination:function(e){var s="/products/pagination/fetch?".concat(e);return a.Z.get(s)}};s.Z=n},9144:function(e,s,t){t.r(s),t.d(s,{default:function(){return N}});var a=t(8214),n=t(5861),r=t(885),c=t(2791),i=t(8824),l=t(9271),o=t(1523),m=t(6789),d=t(4426),u=t.n(d),x=t(1828),h=t(4245),f=t(9566),p={getCommentProduct:function(e){var s="/comment/fetch".concat(e);return f.Z.get(s)},postCommentProduct:function(e,s){var t="/comment/send".concat(e);return f.Z.post(t,{},{headers:{Authorization:"Bearer ".concat(s)}})}},j=t(7186),v=t(184);var N=function(e){var s=localStorage.getItem("token"),t=(0,c.useState)({}),d=(0,r.Z)(t,2),f=d[0],N=d[1],g=((0,m.I0)(),(0,l.UO)().id),b=((0,m.v9)((function(e){return e.Cart.id_user})),(0,m.v9)((function(e){return e.Cart.listCart})),(0,c.useState)([])),w=(0,r.Z)(b,2),Z=w[0],y=w[1],k=(0,c.useState)(1),C=(0,r.Z)(k,2),S=C[0],T=C[1],_=(0,c.useState)(""),P=(0,r.Z)(_,2),I=P[0],A=P[1],B=(0,m.v9)((function(e){return e.Session.idUser})),D=(0,c.useState)([]),E=(0,r.Z)(D,2),L=E[0],z=E[1],U=(0,c.useState)(!1),V=(0,r.Z)(U,2),G=V[0],F=V[1];(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s,t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={idProduct:g},t="?"+h.stringify(s),e.next=4,p.getCommentProduct(t);case 4:n=e.sent,z(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]),(0,c.useEffect)((function(){if(G){var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s,t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={idProduct:g},t="?"+h.stringify(s),e.next=4,p.getCommentProduct(t);case 4:n=e.sent,console.log(n),z(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),F(!1)}}),[G]),(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.getAPI();case 2:s=e.sent,y(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var H=(0,c.useState)(1),M=(0,r.Z)(H,2),O=M[0],q=M[1];(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.getDetail(g);case 2:s=e.sent,N(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]);var K=(0,c.useState)("description"),Q=(0,r.Z)(K,2),J=Q[0],R=Q[1],W=function(e){R(e)};return(0,v.jsx)("section",{className:"py-5",children:(0,v.jsxs)("div",{className:"container",children:[(0,v.jsxs)("div",{className:"row mb-5",children:[(0,v.jsx)("div",{className:"col-lg-6",children:(0,v.jsxs)("div",{className:"row m-sm-0",children:[(0,v.jsx)("div",{className:"col-sm-2 p-sm-0 order-2 order-sm-1 mt-2 mt-sm-0",children:(0,v.jsxs)("div",{className:"owl-thumbs d-flex flex-row flex-sm-column","data-slider-id":"1",children:[(0,v.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:(0,v.jsx)("img",{className:"w-100",src:f.img1,alt:"..."})}),(0,v.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:(0,v.jsx)("img",{className:"w-100",src:f.img2,alt:"..."})}),(0,v.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:(0,v.jsx)("img",{className:"w-100",src:f.img3,alt:"..."})}),(0,v.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:(0,v.jsx)("img",{className:"w-100",src:f.img4,alt:"..."})})]})}),(0,v.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide col-sm-10 order-1 order-sm-2","data-ride":"carousel",children:[(0,v.jsxs)("div",{className:"carousel-inner owl-carousel product-slider",children:[(0,v.jsx)("div",{className:"carousel-item active",children:(0,v.jsx)("img",{className:"d-block w-100",src:f.img1,alt:"First slide"})}),(0,v.jsx)("div",{className:"carousel-item",children:(0,v.jsx)("img",{className:"d-block w-100",src:f.img2,alt:"Second slide"})}),(0,v.jsx)("div",{className:"carousel-item",children:(0,v.jsx)("img",{className:"d-block w-100",src:f.img3,alt:"Third slide"})}),(0,v.jsx)("div",{className:"carousel-item",children:(0,v.jsx)("img",{className:"d-block w-100",src:f.img4,alt:"Third slide"})})]}),(0,v.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[(0,v.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,v.jsx)("span",{className:"sr-only",children:"Tr\u1edf L\u1ea1i"})]}),(0,v.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[(0,v.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,v.jsx)("span",{className:"sr-only",children:"Ti\u1ebfp"})]})]})]})}),(0,v.jsxs)("div",{className:"col-lg-6",children:[(0,v.jsx)("br",{}),(0,v.jsx)("h1",{children:f.name}),(0,v.jsx)("br",{}),(0,v.jsxs)("p",{className:"text-muted lead",children:[(0,j.Z)(f.price)," VND"]}),(0,v.jsx)("br",{}),(0,v.jsx)("p",{className:"text-small mb-4",children:f.short_desc}),(0,v.jsxs)("ul",{className:"list-unstyled small d-inline-block",children:[(0,v.jsxs)("li",{className:"mb-3 bg-white text-muted",children:[(0,v.jsx)("strong",{className:"text-uppercase text-dark",children:"Th\u1ec3 Lo\u1ea1i:"}),(0,v.jsxs)("a",{className:"reset-anchor ml-2",children:[f.category,"s"]})]}),(0,v.jsx)("li",{className:"mb-3 bg-white text-muted",children:f.count>0?"".concat(f.count," S\u1ea3n Ph\u1ea9m C\xf3 S\u1eb5n"):"B\xe1n H\u1ebft"})]}),(0,v.jsxs)("div",{className:"row align-items-stretch mb-4",children:[(0,v.jsx)("div",{className:"col-sm-5 pr-sm-0",children:(0,v.jsxs)("div",{className:"border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white",children:[(0,v.jsx)("span",{className:"small text-uppercase text-gray mr-4 no-select",children:"S\u1ed1 L\u01b0\u1ee3ng"}),(0,v.jsxs)("div",{className:"quantity",children:[(0,v.jsx)("button",{className:"dec-btn p-0",style:{cursor:"pointer"},children:(0,v.jsx)("i",{className:"fas fa-caret-left",onClick:function(){var e=parseInt(O)-1;0!==e&&q(e)}})}),(0,v.jsx)("input",{className:"form-control border-0 shadow-0 p-0",type:"text",value:O,onChange:function(e){q(e.target.value)}}),(0,v.jsx)("button",{className:"inc-btn p-0",style:{cursor:"pointer"},children:(0,v.jsx)("i",{className:"fas fa-caret-right",onClick:function(){var e=parseInt(O)+1;q(e)}})})]})]})}),(0,v.jsx)("div",{className:"col-sm-3 pl-sm-0",children:f.count>0&&(0,v.jsx)("a",{className:"btn btn-dark btn-sm btn-block d-flex align-items-center justify-content-center px-0 text-white",onClick:function(){var e=localStorage.getItem("expiryDate"),t=function(e){setTimeout((function(){localStorage.clear(),window.location.replace("/signin")}),e)};if(t(new Date(e).getTime()-(new Date).getTime()),localStorage.getItem("id_user")){console.log("B\u1ea1n \u0110\xe3 \u0110\u0103ng Nh\u1eadp!");var r=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idUser:localStorage.getItem("id_user"),idProduct:f._id,count:O},n="?"+h.stringify(t),e.next=4,x.Z.postAddToCart(n,s);case 4:r=e.sent,console.log(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r(),u().set("notifier","position","bottom-left"),u().success("B\u1ea1n \u0110\xe3 Th\xeam H\xe0ng Th\xe0nh C\xf4ng!")}else t(1e3)},children:"Th\xeam V\xe0o Gi\u1ecf"})}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{})]})]})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"exampleFormControlTextarea1",children:"B\xecnh Lu\u1eadn:"}),(0,v.jsx)("textarea",{className:"form-control",rows:"3",onChange:function(e){A(e.target.value)},value:I})]}),(0,v.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,v.jsxs)("div",{className:"d-flex w-25",children:[(0,v.jsx)("span",{className:"mt-2",children:"\u0110\xe1nh Gi\xe1: "}),"\xa0 \xa0",(0,v.jsx)("input",{className:"form-control w-25",type:"number",min:"1",max:"5",value:S,onChange:function(e){T(e.target.value)}}),"\xa0 \xa0",(0,v.jsx)("span",{className:"mt-2",children:"Sao"})]}),(0,v.jsx)("div",{children:(0,v.jsx)("a",{className:"btn btn-dark btn-sm btn-block px-0 text-white",style:{width:"12rem"},onClick:function(){if(""===B)return u().set("notifier","position","bottom-left"),void u().error("Vui L\xf2ng Ki\u1ec3m Tra \u0110\u0103ng Nh\u1eadp!");var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idProduct:g,idUser:localStorage.getItem("id_user"),date:(new Date).toISOString(),content:I,star:S},n="?"+h.stringify(t),e.next=4,p.postCommentProduct(n,s);case 4:r=e.sent,console.log(r),F(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),A("")},children:"G\u1eedi"})})]}),(0,v.jsx)("br",{}),(0,v.jsxs)("ul",{className:"nav nav-tabs border-0",children:[(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)("a",{className:"nav-link fix_comment",onClick:function(){return W("description")},style:"description"===J?{backgroundColor:"#383838",color:"#ffffff"}:{color:"#383838"},children:"M\xf4 T\u1ea3"})}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)("a",{className:"nav-link fix_comment",onClick:function(){return W("review")},style:"review"===J?{backgroundColor:"#383838",color:"#ffffff"}:{color:"#383838"},children:"\u0110\xe1nh Gi\xe1"})})]}),(0,v.jsx)("div",{className:"tab-content mb-5",children:"description"===J?(0,v.jsx)("div",{className:"tab-pane fade show active",children:(0,v.jsxs)("div",{className:"pt-4 pb-4 bg-white",children:[(0,v.jsx)("h6",{className:"text-uppercase",children:"M\xf4 T\u1ea3 V\u1ec1 S\u1ea3n Ph\u1ea9m "}),(0,v.jsx)("br",{}),(0,v.jsx)("p",{className:"text-muted text-small mb-0",style:{whiteSpace:"pre-wrap"},children:f.long_desc})]})}):(0,v.jsx)("div",{className:"tab-pane fade show active",children:(0,v.jsx)("div",{className:"p-4 p-lg-5 bg-white",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg-8",children:L&&L.map((function(e){return(0,v.jsxs)("div",{className:"media mb-3",children:[(0,v.jsx)("img",{className:"rounded-circle",src:"https://img.icons8.com/color/36/000000/administrator-male.png",alt:"",width:"50"}),(0,v.jsxs)("div",{className:"media-body ml-3",children:[(0,v.jsx)("h6",{className:"mb-0 text-uppercase",children:e.fullname}),(0,v.jsx)("p",{className:"small text-muted mb-0 text-uppercase",children:e.date.slice(0,10)}),(0,v.jsxs)("ul",{className:"list-inline mb-1 text-xs",children:[(0,v.jsx)("li",{className:"list-inline-item m-0",children:(0,v.jsx)("i",{className:e.star1})}),(0,v.jsx)("li",{className:"list-inline-item m-0",children:(0,v.jsx)("i",{className:e.star2})}),(0,v.jsx)("li",{className:"list-inline-item m-0",children:(0,v.jsx)("i",{className:e.star3})}),(0,v.jsx)("li",{className:"list-inline-item m-0",children:(0,v.jsx)("i",{className:e.star4})}),(0,v.jsx)("li",{className:"list-inline-item m-0",children:(0,v.jsx)("i",{className:e.star5})})]}),(0,v.jsx)("p",{className:"text-small mb-0 text-muted",children:e.content})]})]},e._id)}))})})})})}),(0,v.jsx)("h2",{className:"h5 text-uppercase mb-4",children:"S\u1ea3n Ph\u1ea9m Li\xean Quan"}),(0,v.jsx)("div",{className:"row",children:Z&&Z.filter((function(e){return e.category===f.category&&e._id!==f._id})).map((function(e){return(0,v.jsx)("div",{className:"col-lg-3 col-sm-6",children:(0,v.jsxs)("div",{className:"product text-center skel-loader",children:[(0,v.jsxs)("div",{className:"d-block mb-3 position-relative",children:[(0,v.jsx)("img",{className:"img-fluid w-100",src:e.img1,alt:"..."}),(0,v.jsx)("div",{className:"product-overlay",children:(0,v.jsx)("ul",{className:"mb-0 list-inline"})})]}),(0,v.jsx)("h6",{children:(0,v.jsx)(o.rU,{className:"reset-anchor",to:"/detail/".concat(e._id),children:e.name})}),(0,v.jsxs)("p",{className:"small text-muted",children:[(0,j.Z)(e.price)," VND"]})]})},e._id)}))})]})})}},7186:function(e,s,t){function a(e){for(var s=e+"",t="",a=0,n=s.length-1;n>=0;n--)a++,t=s[n]+t,a%3===0&&0!==n&&(t="."+t,a=0);return t}t.d(s,{Z:function(){return a}})}}]);
//# sourceMappingURL=144.f657cea4.chunk.js.map